{"version":3,"sources":["./src/app/retailer-listing/retailer-listing.page.html","./src/app/retailer-listing/retailer-listing-routing.module.ts","./src/app/retailer-listing/retailer-listing.module.ts","./src/app/retailer-listing/retailer-listing.page.scss","./src/app/retailer-listing/retailer-listing.page.ts"],"names":[],"mappings":"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","file":"retailer-listing-retailer-listing-module-es2015.js","sourcesContent":["export default \"<ion-header style=\\\"text-align: center\\\">\\r\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"ios\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button [text]=\\\"Back\\\" defaultHref=\\\"/retailertabs/retailertabs/retailertab2\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>\\r\\n      Good Food\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [hidden]=\\\"!isReady\\\" fullscreen >\\r\\n  <div *ngFor=\\\"let item of listing\\\"> \\r\\n  <img [src]=\\\"url\\\" style=\\\"width:100%;\\\"> \\r\\n\\r\\n  <h1 style=\\\"text-align: center; font-weight: bold\\\"> {{ retailer }}</h1>\\r\\n  <hr>\\r\\n  <ion-text color=\\\"primary\\\">\\r\\n  <h3 style=\\\"text-align: center; font-weight: bold;\\\" > ${{ item.price | number:'1.2-2' }}</h3>\\r\\n  </ion-text> \\r\\n\\r\\n  <div style=\\\"text-align: center; font-size: large;\\\">\\r\\n    <ion-icon name=\\\"location-outline\\\"></ion-icon> \\r\\n    {{ location }}\\r\\n  </div>\\r\\n\\r\\n  <p style=\\\"text-align: center\\\"> {{ item.quantity }} meals left</p>  \\r\\n  <hr>\\r\\n  <div style=\\\"text-align: center\\\" *ngIf=\\\"!item.isListed\\\">\\r\\n  <ion-icon name=\\\"time-outline\\\"></ion-icon>\\r\\n  Pickup Time: {{pickupTime | date:'h:mm a'}}\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"text-align: center\\\" *ngIf=\\\"item.isListed\\\">\\r\\n    <ion-icon name=\\\"time-outline\\\"></ion-icon>\\r\\n    Listing Delete Date: {{pickupTime}}\\r\\n    </div>\\r\\n  <hr>\\r\\n  <!-- after publish and clicking on edit -->\\r\\n  <ion-item [hidden]=\\\"isRead\\\">\\r\\n    <ion-label>Delete Date</ion-label>\\r\\n    <ion-datetime value={{pickupTime}} [(ngModel)]=\\\"pDate\\\" (ionChange)=\\\"setPickupDate(this.pDate)\\\"></ion-datetime>\\r\\n  </ion-item>\\r\\n  <ion-item [hidden]=\\\"isRead\\\">\\r\\n    <ion-label>Delete/Pick Up Time</ion-label>\\r\\n    <ion-datetime value={{pickupTime}} display-format=\\\"h:mm A\\\" picker-format=\\\"h:mm A\\\" [(ngModel)]=\\\"time\\\" (ionChange)=\\\"setPickupTime(this.time)\\\"></ion-datetime>\\r\\n  </ion-item> \\r\\n  <p style=\\\"text-align: center; font-size: large;\\\"> {{ item.description }} </p>\\r\\n</div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-toolbar [hidden]=\\\"!isReady\\\" position=\\\"bottom\\\" style=\\\"text-align: center;\\\" color=\\\"translucent\\\" *ngFor=\\\"let item of listing\\\"> \\r\\n  <ion-button *ngIf=\\\"!item.isListed\\\" size =\\\"large\\\" (click)=\\\"publish(item)\\\">Publish</ion-button>\\r\\n  <ion-button *ngIf=\\\"item.isListed\\\" size =\\\"large\\\" (click)=\\\"edit(item)\\\">{{buttonText}}</ion-button>\\r\\n  <ion-button *ngIf=\\\"item.isListed\\\" size =\\\"large\\\" (click)=\\\"unpublish(item)\\\">Unpublish</ion-button>\\r\\n</ion-toolbar>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RetailerListingPage } from './retailer-listing.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RetailerListingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RetailerListingPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RetailerListingPageRoutingModule } from './retailer-listing-routing.module';\r\n\r\nimport { RetailerListingPage } from './retailer-listing.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RetailerListingPageRoutingModule\r\n  ],\r\n  declarations: [RetailerListingPage]\r\n})\r\nexport class RetailerListingPageModule {}\r\n","export default \"hr {\\n  color: black;\\n  border-style: solid;\\n  background-color: black;\\n}\\n\\n.ion-text {\\n  display: flex;\\n  justify-content: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmV0YWlsZXItbGlzdGluZy9yZXRhaWxlci1saXN0aW5nLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxhQUFBO0VBQ0EsdUJBQUE7QUFFSiIsImZpbGUiOiJzcmMvYXBwL3JldGFpbGVyLWxpc3RpbmcvcmV0YWlsZXItbGlzdGluZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJociB7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgfVxyXG4uaW9uLXRleHR7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn0iXX0= */\";","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AngularFireStorage } from '@angular/fire/storage';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AlertController, LoadingController, NavController } from '@ionic/angular';\r\nimport * as firebase from 'firebase/app';\r\nimport { ListingsService } from '../listings.service';\r\n\r\n@Component({\r\n  selector: 'app-retailer-listing',\r\n  templateUrl: './retailer-listing.page.html',\r\n  styleUrls: ['./retailer-listing.page.scss'],\r\n})\r\nexport class RetailerListingPage implements OnInit {\r\n\r\n  listingID;\r\n  listing: any[];  \r\n  location;\r\n  retailerUID;\r\n  retailer;\r\n  retailerType;\r\n  url;\r\n  isReady: Boolean = false;\r\n  pickupTime;\r\n  date;\r\n  pickupDate: Date;\r\n  time;\r\n  pDate;\r\n  buttonText: string = \"Edit\";\r\n  isRead: boolean = true;  \r\n\r\n  constructor(public listingService: ListingsService,private nacCtrl: NavController, private activatedRoute: ActivatedRoute, public afAuth: AngularFireAuth, private afstore: AngularFirestore, private afStorage: AngularFireStorage, private changeDetection: ChangeDetectorRef,public loadingController: LoadingController, public alertController: AlertController) { }\r\n\r\n  ngOnInit() {\r\n    this.presentLoading();\r\n    this.listingID = this.activatedRoute.snapshot.queryParamMap.get('id'); \r\n    var self = this\r\n    this.afAuth.onAuthStateChanged(async function(user) {        \r\n      if (user) {        \r\n        self.retailerUID = user.uid\r\n        var userRef = (await self.afstore.collection(\"users\").doc(self.retailerUID).get().toPromise()).data()\r\n        self.retailer = userRef.name;\r\n        self.location = userRef.location;\r\n        self.retailerType = userRef.retailerType;        \r\n        self.listing = userRef.listings; \r\n        self.pickupTime = userRef.pickupTime.toDate().toLocaleString();\r\n\r\n        self.listing = self.listing.filter(currentListing => {\r\n          if (currentListing.listingID && self.listingID) {\r\n            return (currentListing.listingID.toLowerCase().indexOf(self.listingID.toLowerCase()) > -1);\r\n          }\r\n        });\r\n\r\n        if(self.listing[0].isListed){\r\n          var listingRef = (await self.afstore.collection(\"listings\").doc(self.listingID).get().toPromise()).data()\r\n          self.pickupTime = listingRef.deleteDate.toDate().toLocaleString();\r\n        }\r\n        \r\n        \r\n        var storageRef =  self.afStorage.ref(`images/${self.retailerUID}`).getDownloadURL().toPromise().then(function(url) {        \r\n          self.url = url;\r\n       }).catch(function(error) {\r\n         self.url = 'assets/images/default.png';\r\n       });\r\n\r\n       self.changeDetection.detectChanges(); \r\n      }\r\n      else{\r\n        console.log('no user signed in');\r\n      }\r\n    });    \r\n  }\r\n\r\n  async presentLoading() {\r\n    const loading = await this.loadingController.create({\r\n      duration: 900,\r\n      translucent: true,\r\n      cssClass: 'transparent',\r\n      backdropDismiss: false\r\n    });\r\n    await loading.present();\r\n\r\n    const { role, data } = await loading.onDidDismiss();\r\n    this.isReady = true;\r\n    this.changeDetection.detectChanges(); \r\n  }\r\n\r\n  publish(listing) {\r\n    \r\n    this.date = new Date();\r\n    this.pickupDate = new Date(this.pickupTime);\r\n\r\n    const data = {\r\n      description: listing.description,\r\n      listingID: listing.listingID,\r\n      price: listing.price,\r\n      quantity: listing.quantity,\r\n      retailerType: this.retailerType,\r\n      location: this.location,\r\n      retailerUID: this.retailerUID,\r\n      deleteDate: new Date(this.date.getFullYear(), this.date.getMonth(), this.date.getDate(), this.pickupDate.getHours(), this.pickupDate.getMinutes(), this.pickupDate.getSeconds(), this.pickupDate.getMilliseconds())\r\n    }\r\n\r\n    this.afstore.collection(\"listings\").doc(this.listingID).set(data);\r\n    \r\n\r\n    this.afstore.doc(`users/${this.retailerUID}`).update({\r\n      listings: firebase.firestore.FieldValue.arrayUnion({\r\n        quantity: listing.quantity,\r\n        price: listing.price,\r\n        description: listing.description,\r\n        listingID: listing.listingID,\r\n        isListed: true      \r\n      })\r\n    })\r\n\r\n    this.afstore.doc(`users/${this.retailerUID}`).update({\r\n      listings: firebase.firestore.FieldValue.arrayRemove({\r\n        quantity: listing.quantity,\r\n        price: listing.price,\r\n        description: listing.description,\r\n        listingID: listing.listingID,\r\n        isListed: false      \r\n      })\r\n    })\r\n    this.changeDetection.detectChanges(); \r\n    this.presentAlert();\r\n    this.nacCtrl.navigateRoot([\"./retailertabs/retailertabs/retailertab2\"]);\r\n    this.changeDetection.detectChanges(); \r\n  }\r\n\r\n  public async presentAlert() : Promise<boolean> {\r\n    let resolveFunction: (confirm: boolean) => void;\r\n    const promise = new Promise<boolean>(resolve => {\r\n      resolveFunction = resolve;\r\n    });\r\n    \r\n    const alert = await this.alertController.create({\r\n      header: 'Listing Successfully Published!',\r\n      buttons: [\r\n        {\r\n          text: 'OK',\r\n            handler: () => resolveFunction(true)\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n    return promise;\r\n  }\r\n\r\n  \r\n  async unpublish(listing){\r\n\r\n    const confirm = await this.presentAlertUnpublish();\r\n    if (confirm) {\r\n\r\n      this.afstore.doc(`users/${this.retailerUID}`).update({\r\n        listings: firebase.firestore.FieldValue.arrayUnion({\r\n          \r\n          description: listing.description,\r\n          listingID: listing.listingID,\r\n          price: listing.price,\r\n          quantity:listing.quantity,\r\n          isListed: false\r\n        })\r\n      })\r\n\r\n    this.afstore.doc(`users/${this.retailerUID}`).update({\r\n      listings: firebase.firestore.FieldValue.arrayRemove({\r\n        \r\n        description: listing.description,\r\n        listingID: listing.listingID,\r\n        price: listing.price,\r\n        quantity:listing.quantity,\r\n        isListed: listing.isListed\r\n      })\r\n    })\r\n\r\n    await this.listingService.deleteListing(listing)\r\n    this.afstore.collection('listings').doc(listing.listingID).delete();\r\n    this.nacCtrl.navigateRoot([\"./retailertabs/retailertabs/retailertab2\"]);\r\n    this.changeDetection.detectChanges(); \r\n   \r\n    \r\n    \r\n  }\r\n  }\r\n\r\n  async presentAlertUnpublish() : Promise<boolean> {\r\n    let resolveFunction: (confirm: boolean) => void;\r\n    const promise = new Promise<boolean>(resolve => {\r\n      resolveFunction = resolve;\r\n    });\r\n    const alert = await this.alertController.create({\r\n      header: 'Confirm Unpublish',\r\n      message: 'Are you sure you want to unpublish this listing?',\r\n      buttons: [\r\n        {\r\n          text: 'Yes',\r\n            handler: () => resolveFunction(true)\r\n        }, {\r\n          text: 'No',\r\n          handler: () => resolveFunction(false)\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n    return promise;\r\n  }\r\n\r\n  setPickupTime(pickupTime){  \r\n\r\n    let date = new Date(pickupTime);  \r\n    this.time =  date.toString();\r\n    console.log(this.time)\r\n  }\r\n\r\n  setPickupDate(pickupDate){\r\n    console.log(pickupDate)\r\n    this.pDate = (new Date(pickupDate)).toDateString();  \r\n    console.log(this.pDate)\r\n  }\r\n\r\n  edit(listing)\r\n  {\r\n    if(this.buttonText == \"Edit\"){\r\n      this.isRead = false;\r\n      this.buttonText = \"Save\";\r\n     }\r\n    else{\r\n      this.isRead = true;\r\n      this.buttonText = \"Edit\";  \r\n      //set pickuptime\r\n      //change deleteDate in firestore      \r\n      this.time = new Date(this.time);\r\n      this.pDate = new Date(this.pDate);\r\n      let newDate = new Date(this.pDate.getFullYear(), this.pDate.getMonth(), this.pDate.getDate(),this.time.getHours(), this.time.getMinutes(), this.time.getSeconds(), this.time.getMilliseconds())\r\n      console.log(newDate)\r\n\r\n      const data = {\r\n        description: listing.description,\r\n        listingID: listing.listingID,\r\n        price: listing.price,\r\n        quantity: listing.quantity,\r\n        retailerType: this.retailerType,\r\n        location: this.location,\r\n        retailerUID: this.retailerUID,\r\n        deleteDate: new Date(this.pDate.getFullYear(), this.pDate.getMonth(), this.pDate.getDate(), this.time.getHours(), this.time.getMinutes(), this.time.getSeconds(), this.time.getMilliseconds())\r\n      }\r\n  \r\n      this.afstore.collection(\"listings\").doc(this.listingID).set(data);\r\n      this.pickupTime = newDate.toLocaleString();\r\n      \r\n\r\n      \r\n    }   \r\n  }\r\n \r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}