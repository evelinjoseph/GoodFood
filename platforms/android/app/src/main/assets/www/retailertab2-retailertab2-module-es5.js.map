{"version":3,"sources":["webpack:///src/app/retailertab2/retailertab2.page.html","webpack:///src/app/retailertab2/retailertab2-routing.module.ts","webpack:///src/app/retailertab2/retailertab2.module.ts","webpack:///src/app/retailertab2/retailertab2.page.scss","webpack:///src/app/retailertab2/retailertab2.page.ts"],"names":["routes","path","component","Retailertab2PageRoutingModule","imports","forChild","exports","Retailertab2PageModule","declarations","Retailertab2Page","listingService","afAuth","afstore","changeDetection","alertCtrl","isReady","self","onAuthStateChanged","user","retailerUID","uid","items","doc","retailerItems","valueChanges","collection","get","toPromise","userRef","data","retailerType","location","detectChanges","console","log","listing","presentAlertDelete","confirm","update","listings","FieldValue","arrayRemove","name","description","listingID","price","quantity","isListed","set","type","deleteTime","Date","then","error","deleteListing","presentAlertUnpublish","arrayUnion","promise","Promise","resolve","resolveFunction","create","header","message","buttons","text","handler","alert","present","selector","template"],"mappings":"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","file":"retailertab2-retailertab2-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\" color=\\\"primary\\\">\\r\\n    <ion-title>Good Food</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content fullscreen [hidden]=\\\"!isReady\\\">\\r\\n\\r\\n  <div *ngIf=\\\"!((retailerItems | async)?.isVerified) ; else verified\\\" class=\\\"centerText\\\">\\r\\n    <ion-text class=\\\"centerText\\\" color=\\\"primary\\\" style=\\\"text-align: center\\\">\\r\\n      <p>Your account is not verified yet, please wait until verified to gain access to this tab!</p>\\r\\n    </ion-text>\\r\\n  </div>\\r\\n\\r\\n  <ng-template #verified>\\r\\n      <div *ngFor=\\\"let item of ((retailerItems | async)?.listings)\\\">\\r\\n        <ion-card>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-card-title class=\\\"ion-text-wrap\\\" [routerLink]=\\\"['/retailer-listing']\\\" [queryParams]=\\\"{ id: item.listingID }\\\" routerDirection=\\\"forward\\\">{{item.name}}</ion-card-title>\\r\\n        \\r\\n        </ion-item>\\r\\n      \\r\\n        <ion-card-content > \\r\\n          <div [routerLink]=\\\"['/retailer-listing']\\\" [queryParams]=\\\"{ id: item.listingID }\\\" routerDirection=\\\"forward\\\">\\r\\n\\r\\n          <p> Price: ${{item.price | number:'1.2-2'}}</p>\\r\\n          <p> Description: {{item.description}}</p>\\r\\n          <p> Location: {{location}}</p>\\r\\n          <p> Retailer Type: {{retailerType}}</p>\\r\\n          \\r\\n          </div>\\r\\n          <ion-button  (click)=\\\"delete(item)\\\" fill=\\\"outline\\\" slot=\\\"end\\\">Delete</ion-button> \\r\\n          <ion-button  *ngIf=\\\"item.isListed\\\" (click)=\\\"unpublish(item)\\\" slot=\\\"end\\\">Unpublish</ion-button>       \\r\\n        </ion-card-content>\\r\\n\\r\\n        \\r\\n      </ion-card>\\r\\n      </div>      \\r\\n        <ion-text *ngIf=\\\"((retailerItems | async)?.listings).length <= 0\\\" class=\\\"centerText\\\" color=\\\"primary\\\" style=\\\"text-align: center\\\">\\r\\n          <p>There are no listings currently.</p>\\r\\n        </ion-text>\\r\\n  </ng-template>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-no-border\\\">\\r\\n  <div *ngIf=\\\"((retailerItems | async)?.isVerified)\\\">\\r\\n    <ion-toolbar position=\\\"bottom\\\" style=\\\"text-align: center;\\\">     \\r\\n      <ion-button size =\\\"large\\\" [routerLink]=\\\"['/new-listing']\\\" routerDirection=\\\"forward\\\">Add Listing</ion-button>    \\r\\n    </ion-toolbar>\\r\\n  </div>\\r\\n</ion-footer>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { Retailertab2Page } from './retailertab2.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: Retailertab2Page\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class Retailertab2PageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { Retailertab2PageRoutingModule } from './retailertab2-routing.module';\r\n\r\nimport { Retailertab2Page } from './retailertab2.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    Retailertab2PageRoutingModule\r\n  ],\r\n  declarations: [Retailertab2Page]\r\n})\r\nexport class Retailertab2PageModule {}\r\n","export default \".centerText {\\n  height: 90% !important;\\n  display: flex !important;\\n  align-items: center !important;\\n  justify-content: center !important;\\n  align-content: center !important;\\n  flex-wrap: wrap !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmV0YWlsZXJ0YWIyL3JldGFpbGVydGFiMi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxzQkFBQTtFQUNBLHdCQUFBO0VBQ0EsOEJBQUE7RUFDQSxrQ0FBQTtFQUNBLGdDQUFBO0VBQ0EsMEJBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3JldGFpbGVydGFiMi9yZXRhaWxlcnRhYjIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNlbnRlclRleHQge1xyXG4gICAgaGVpZ2h0OiA5MCUgIWltcG9ydGFudDtcclxuICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XHJcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXIhaW1wb3J0YW50O1xyXG4gICAgZmxleC13cmFwOiB3cmFwICFpbXBvcnRhbnQ7ICAgIFxyXG4gfSJdfQ== */\";","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport * as firebase from 'firebase/app';\r\nimport { first } from 'rxjs/operators';\r\nimport { ListingsService } from '../listings.service';\r\n\r\n@Component({\r\n  selector: 'app-retailertab2',\r\n  templateUrl: './retailertab2.page.html',\r\n  styleUrls: ['./retailertab2.page.scss'],\r\n})\r\nexport class Retailertab2Page implements OnInit {\r\n\r\n  public listings: any[];\r\n  retailerUID;\r\n  retailerItems;\r\n  items;\r\n  retailerType;\r\n  location;\r\n  isReady = false;\r\n\r\n  constructor(public listingService: ListingsService, public afAuth: AngularFireAuth, private afstore: AngularFirestore, private changeDetection: ChangeDetectorRef, public alertCtrl: AlertController) {}\r\n\r\n  ngOnInit() {\r\n    var self = this\r\n    this.afAuth.onAuthStateChanged(async function(user) {        \r\n      if (user) {        \r\n        self.retailerUID = user.uid\r\n        self.items = self.afstore.doc(`users/${self.retailerUID}`);        \r\n        self.retailerItems = self.items.valueChanges();        \r\n        var userRef = (await self.afstore.collection(\"users\").doc(self.retailerUID).get().toPromise()).data()\r\n        self.retailerType = userRef.retailerType;\r\n        self.location = userRef.location;\r\n        self.isReady = true;\r\n        self.changeDetection.detectChanges();        \r\n\r\n      }\r\n      else{\r\n        console.log('no user signed in');\r\n      }\r\n    });\r\n\r\n    \r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    if(this.items){\r\n      this.retailerItems = this.items.valueChanges();\r\n      this.changeDetection.detectChanges();\r\n      this.isReady = true;\r\n    }    \r\n  }\r\n  \r\n  async delete(listing){\r\n\r\n    const confirm = await this.presentAlertDelete();\r\n    if (confirm) {\r\n    this.afstore.doc(`users/${this.retailerUID}`).update({\r\n      listings: firebase.firestore.FieldValue.arrayRemove({\r\n        name: listing.name,\r\n        description: listing.description,\r\n        listingID: listing.listingID,\r\n        price: listing.price,\r\n        quantity:listing.quantity,\r\n        isListed: listing.isListed\r\n      })\r\n    })\r\n    \r\n    this.afstore.collection('listings').doc(listing.listingID).delete();\r\n    //TODO: add to archive when deleted\r\n    this.afstore.collection('archive').doc(listing.listingID).set({\r\n      name: listing.name,\r\n      description: listing.description,\r\n      listingID: listing.listingID,\r\n      price: listing.price,\r\n      type: \"Listing\",\r\n      deleteTime: new Date()\r\n    })\r\n    .then(function() {\r\n        console.log(\"Document successfully written!\");\r\n    })\r\n    .catch(function(error) {\r\n        console.error(\"Error writing document: \", error);\r\n    });\r\n\r\n    // TODO: may need to delete from carts?\r\n    await this.listingService.deleteListing(listing)\r\n  }\r\n  }\r\n\r\n  async unpublish(listing){\r\n\r\n    const confirm = await this.presentAlertUnpublish();\r\n    if (confirm) {\r\n\r\n      this.afstore.doc(`users/${this.retailerUID}`).update({\r\n        listings: firebase.firestore.FieldValue.arrayUnion({\r\n          name: listing.name,\r\n          description: listing.description,\r\n          listingID: listing.listingID,\r\n          price: listing.price,\r\n          quantity:listing.quantity,\r\n          isListed: false\r\n        })\r\n      })\r\n\r\n    this.afstore.doc(`users/${this.retailerUID}`).update({\r\n      listings: firebase.firestore.FieldValue.arrayRemove({\r\n        name: listing.name,\r\n        description: listing.description,\r\n        listingID: listing.listingID,\r\n        price: listing.price,\r\n        quantity:listing.quantity,\r\n        isListed: listing.isListed\r\n      })\r\n    })\r\n    \r\n    // TODO: may need to delete from carts?\r\n    await this.listingService.deleteListing(listing)\r\n    this.afstore.collection('listings').doc(listing.listingID).delete();\r\n\r\n    \r\n  }\r\n  }\r\n\r\n  async presentAlertDelete() : Promise<boolean> {\r\n    let resolveFunction: (confirm: boolean) => void;\r\n    const promise = new Promise<boolean>(resolve => {\r\n      resolveFunction = resolve;\r\n    });\r\n    const alert = await this.alertCtrl.create({\r\n      header: 'Confirm Delete',\r\n      message: 'Are you sure you want to delete this listing?',\r\n      buttons: [\r\n        {\r\n          text: 'Yes',\r\n            handler: () => resolveFunction(true)\r\n        }, {\r\n          text: 'No',\r\n          handler: () => resolveFunction(false)\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n    return promise;\r\n  }\r\n\r\n  async presentAlertUnpublish() : Promise<boolean> {\r\n    let resolveFunction: (confirm: boolean) => void;\r\n    const promise = new Promise<boolean>(resolve => {\r\n      resolveFunction = resolve;\r\n    });\r\n    const alert = await this.alertCtrl.create({\r\n      header: 'Confirm Unpublish',\r\n      message: 'Are you sure you want to unpublish this listing?',\r\n      buttons: [\r\n        {\r\n          text: 'Yes',\r\n            handler: () => resolveFunction(true)\r\n        }, {\r\n          text: 'No',\r\n          handler: () => resolveFunction(false)\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n    return promise;\r\n  }\r\n \r\n}"]}