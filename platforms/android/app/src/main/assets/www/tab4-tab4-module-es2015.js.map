{"version":3,"sources":["./src/app/tab4/tab4.page.html","./src/app/tab4/tab4-routing.module.ts","./src/app/tab4/tab4.module.ts","./src/app/tab4/tab4.page.scss","./src/app/tab4/tab4.page.ts"],"names":[],"mappings":"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","file":"tab4-tab4-module-es2015.js","sourcesContent":["export default \"<ion-header style=\\\"text-align: center\\\">\\r\\n  <ion-toolbar mode=\\\"ios\\\" color=\\\"primary\\\">\\r\\n    <ion-title>Good Food</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button autoHide=\\\"true\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content fullscreen [hidden]=\\\"!isReady\\\">\\r\\n  <div *ngFor=\\\"let item of ((userItems | async)?.orders).sort().reverse()\\\">\\r\\n    <ion-card>\\r\\n\\r\\n     <ion-item>\\r\\n      <ion-card-title class=\\\"ion-text-wrap\\\">{{getRetailer(item.retailerUID)}}</ion-card-title>\\r\\n    </ion-item>\\r\\n   \\r\\n     <ion-card-content> \\r\\n        <p> Ordered: {{item.date.toDate().toLocaleString()}}</p> \\r\\n        <!-- <p> Quantity: {{item.quantity}}</p>       -->\\r\\n     </ion-card-content>\\r\\n   </ion-card>\\r\\n  </div>\\r\\n\\r\\n  \\r\\n  \\r\\n    <ion-text *ngIf=\\\"((userItems | async)?.orders).length <= 0\\\" class=\\\"centerText\\\" color=\\\"primary\\\" style=\\\"text-align: center\\\">\\r\\n      <p>There are no orders currently.</p>\\r\\n    </ion-text>\\r\\n  \\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { Tab4Page } from './tab4.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: Tab4Page\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class Tab4PageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { Tab4PageRoutingModule } from './tab4-routing.module';\r\n\r\nimport { Tab4Page } from './tab4.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    Tab4PageRoutingModule\r\n  ],\r\n  declarations: [Tab4Page]\r\n})\r\nexport class Tab4PageModule {}\r\n","export default \".centerText {\\n  height: 90% !important;\\n  display: flex !important;\\n  align-items: center !important;\\n  justify-content: center !important;\\n  align-content: center !important;\\n  flex-wrap: wrap !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiNC90YWI0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHNCQUFBO0VBQ0Esd0JBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsZ0NBQUE7RUFDQSwwQkFBQTtBQUNKIiwiZmlsZSI6InNyYy9hcHAvdGFiNC90YWI0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jZW50ZXJUZXh0IHtcclxuICAgIGhlaWdodDogOTAlICFpbXBvcnRhbnQ7XHJcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyIWltcG9ydGFudDtcclxuICAgIGZsZXgtd3JhcDogd3JhcCAhaW1wb3J0YW50OyAgICBcclxuIH0iXX0= */\";","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ListingsService } from '../listings.service';\r\n\r\n@Component({\r\n  selector: 'app-tab4',\r\n  templateUrl: './tab4.page.html',\r\n  styleUrls: ['./tab4.page.scss'],\r\n})\r\nexport class Tab4Page implements OnInit {\r\n  userUID;\r\n  userItems;\r\n  items;\r\n  retailerName;\r\n  isReady = false;\r\n  retailers: any[];\r\n\r\n  constructor(public listingService: ListingsService, public afstore: AngularFirestore, public afAuth: AngularFireAuth, private changeDetection: ChangeDetectorRef, public alertCtrl: AlertController) { }\r\n\r\n  ngOnInit() {\r\n    var self = this\r\n    this.afAuth.onAuthStateChanged(async function(user) {        \r\n      if (user) {        \r\n        self.userUID = user.uid\r\n        self.items = self.afstore.doc(`users/${self.userUID}`);\r\n        self.userItems = self.items.valueChanges(); \r\n        self.changeDetection.detectChanges();   \r\n        await self.listingService.initializeItems();\r\n        self.retailers = self.listingService.getUsers();\r\n        self.retailers = self.retailers.filter(currentUser => {\r\n          if (currentUser.isRetailer) {\r\n            return (currentUser.isRetailer);\r\n          }\r\n        });  \r\n        console.log(self.retailers);\r\n        self.isReady = true;   \r\n      }\r\n      else{\r\n        console.log('no user signed in');\r\n      }\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    if(this.items){\r\n      this.userItems = this.items.valueChanges();\r\n      this.changeDetection.detectChanges(); \r\n      this.isReady = true;\r\n    }    \r\n  }\r\n\r\n   getRetailer(uid) : String{  \r\n     if(this.retailers){\r\n      const user = this.retailers.find(element => element.retailerUID == uid);\r\n   \r\n      return user.name ;\r\n\r\n     }\r\n     \r\n    \r\n  }\r\n  \r\n  \r\n\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}