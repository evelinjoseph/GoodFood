{"version":3,"sources":["./src/app/paypal/paypal.page.html","./src/app/paypal/paypal-routing.module.ts","./src/app/paypal/paypal.module.ts","./src/app/paypal/paypal.page.scss","./src/app/paypal/paypal.page.ts"],"names":[],"mappings":"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","file":"paypal-paypal-module-es2015.js","sourcesContent":["export default \"<ion-header style=\\\"text-align: center\\\">\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button [text]=\\\"Back\\\" defaultHref=\\\"/tabs/tabs/tab3\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Good Food\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngFor=\\\"let item of cart\\\">\\n    <ion-card>      \\n      <ion-card-header>\\n        <ion-card-title>{{item.name}}</ion-card-title>      \\n      </ion-card-header>\\n      <ion-card-content>\\n        <p> Quantity: {{item.quantityCart}} </p>\\n        <p> Price: ${{item.totalPrice | number:'1.2-2'}} </p>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n\\n  <ion-toolbar position=\\\"bottom\\\" style=\\\"text-align: center\\\">\\n    <div class=\\\"ion-text-end\\\" id=\\\"subtotal\\\">\\n      <ion-text > <p style=\\\"font-size: large;\\\"> Subtotal ${{paymentAmount | number:'1.2-2'}} </p></ion-text> \\n      <ion-text > <p style=\\\"font-size: large;\\\"> Tax $-</p></ion-text> \\n      <ion-text > <p id=\\\"total\\\"> TOTAL ${{paymentAmount | number:'1.2-2'}} </p></ion-text> \\n    </div>  \\n    <div id=\\\"paypal-button-container\\\" ></div>  \\n  </ion-toolbar>\\n\\n \\n</ion-content>\\n\\n\\n\\n<!-- <ion-footer class=\\\"ion-no-border\\\">\\n   <ion-toolbar position=\\\"bottom\\\" style=\\\"text-align: center;\\\">\\n    <div class=\\\"ion-text-end\\\" id=\\\"subtotal\\\">\\n      <ion-text > <p style=\\\"font-size: large;\\\"> Subtotal ${{paymentAmount | number:'1.2-2'}} </p></ion-text> \\n      <ion-text > <p style=\\\"font-size: large;\\\"> Tax $-</p></ion-text> \\n      <ion-text > <p id=\\\"total\\\"> TOTAL ${{paymentAmount | number:'1.2-2'}} </p></ion-text> \\n    </div>  \\n    <div id=\\\"paypal-button-container\\\"></div>   \\n    <div class=\\\"paypal_div\\\">\\n    <ion-button class=\\\"paypal_button\\\" expand=\\\"full\\\" color=\\\"warning\\\" (click)=\\\"payWithPayPal()\\\">Pay with PayPal</ion-button>\\n    \\n  </div> \\n </ion-toolbar>\\n</ion-footer> -->\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PaypalPage } from './paypal.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PaypalPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PaypalPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PaypalPageRoutingModule } from './paypal-routing.module';\n\nimport { PaypalPage } from './paypal.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PaypalPageRoutingModule\n  ],\n  declarations: [PaypalPage]\n})\nexport class PaypalPageModule {}\n","export default \".paypal_button {\\n  font-family: Verdana;\\n  font-weight: bold;\\n}\\n\\np {\\n  padding-right: 2%;\\n  font-size: large;\\n}\\n\\n#total {\\n  font-size: large;\\n  font-weight: bold;\\n}\\n\\n.paypal_div {\\n  padding-bottom: 2%;\\n  padding-left: 2%;\\n  padding-right: 2%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGF5cGFsL3BheXBhbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxvQkFBQTtFQUNBLGlCQUFBO0FBQ0o7O0FBRUE7RUFDSSxpQkFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3BheXBhbC9wYXlwYWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBheXBhbF9idXR0b257XG4gICAgZm9udC1mYW1pbHk6IFZlcmRhbmE7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbnB7XG4gICAgcGFkZGluZy1yaWdodDogMiU7XG4gICAgZm9udC1zaXplOiBsYXJnZTtcbn1cblxuI3RvdGFse1xuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5wYXlwYWxfZGl2e1xuICAgIHBhZGRpbmctYm90dG9tOiAyJTtcbiAgICBwYWRkaW5nLWxlZnQ6IDIlO1xuICAgIHBhZGRpbmctcmlnaHQ6IDIlO1xufSJdfQ== */\";","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { PayPal, PayPalPayment, PayPalConfiguration } from '@ionic-native/paypal/ngx'\nimport { AlertController, LoadingController, NavController } from '@ionic/angular';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport * as firebase from 'firebase/app';\nimport { first } from 'rxjs/operators';\n\ndeclare var Email: any;\n\n@Component({\n  selector: 'app-paypal',\n  templateUrl: './paypal.page.html',\n  styleUrls: ['./paypal.page.scss'],\n})\nexport class PaypalPage implements OnInit {\n  paymentAmount = 0;\n  currency: string = 'USD';\n  cart = [];\n  userUID;\n  date;\n  listing;\n  currentRetailer;\n  retailers: any[];\n\n  constructor(public afAuth: AngularFireAuth, private nacCtrl: NavController, public alertController: AlertController, public afstore: AngularFirestore, private payPal: PayPal, public loadingController: LoadingController, public changeDetection: ChangeDetectorRef){}\n\n  ngOnInit() {\n    let self = this\n    this.cart = []\n    this.paymentAmount = 0;\n    \n    this.afAuth.onAuthStateChanged(async function(user) {        \n      if (user) {        \n        self.userUID = user.uid        \n        await self.getCart();  \n        self.changeDetection.detectChanges();\n        self.retailers = await self.afstore.collection('users').valueChanges().pipe(first()).toPromise();\n        console.log(self.retailers);\n\n        try{\n          for(var item of self.cart){ \n            self.listing = await self.afstore.collection('listings').valueChanges().pipe(first()).toPromise();\n            let thisListing: any[] = self.listing.filter(currentListing => {\n              if (currentListing.listingID && item.listingID) {\n                return (currentListing.listingID.toLowerCase().indexOf(item.listingID.toLowerCase()) > -1);\n              }\n            });\n            thisListing.forEach(element => {\n              if(item.quantityCart>element.quantity){\n                throw new Error(\"Sorry, unfortunately there is not enough quantity to complete the \" + element.name + \" order. Please edit the quantity to be less than or equal to \" + element.quantity +\".\");\n                \n              }           \n            });\n          } \n          \n        }\n        catch(error){\n          console.log(error);\n          self.presentAlert(error);\n          self.nacCtrl.navigateRoot(['/tabs/tabs/tab3']);\n        } \n\n      }\n    });\n\n   \n    setTimeout(() => {\n        // Render the PayPal button into #paypal-button-container\n        \n        <any>window['paypal'].Buttons({\n\n          // Set up the transaction\n          createOrder: function (data, actions) {\n           \n            console.log(self.paymentAmount.toFixed(2));\n\n            return actions.order.create({\n              purchase_units: [{\n                amount: {\n                  value: self.paymentAmount.toFixed(2)\n                }\n              }]\n            });\n          },\n  \n          // Finalize the transaction\n          onApprove: function (data, actions) {\n            return actions.order.capture()\n              .then(function (details) {\n                // Show a success message to the buyer\n                console.log(self.cart)\n                for(var item of self.cart){ \n                  self.date = new Date();     \n                  self.afstore.doc(`users/${self.userUID}`).update({\n                    orders: firebase.firestore.FieldValue.arrayUnion({\n                      name: item.name,\n                      description: item.description,\n                      listingID: item.listingID,\n                      retailerUID: item.retailerUID,\n                      isCurrent: true,\n                      date: self.date\n                    })\n                  })\n            \n                  self.afstore.doc(`users/${self.userUID}`).update({\n                    cart: firebase.firestore.FieldValue.arrayRemove({\n                      name: item.name,\n                      description: item.description,\n                      listingID: item.listingID,\n                      retailerUID: item.retailerUID,\n                      quantity: item.quantity,\n                      quantityCart: item.quantityCart,\n                      price: item.price,\n                      totalPrice: item.totalPrice\n                    })\n                  })  \n                  \n                  self.afstore.doc(`users/${item.retailerUID}`).update({\n                    orders: firebase.firestore.FieldValue.arrayUnion({\n                      name: item.name,\n                      description: item.description,\n                      listingID: item.listingID,\n                      retailerUID: item.retailerUID,\n                      userUID: self.userUID,\n                      isCurrent: true,\n                      date: self.date\n                    })\n                  })\n\n                  //add Email\n                  self.currentRetailer = self.retailers.filter(currentListing => {\n                    if (currentListing.retailerUID && item.retailerUID) {\n                      return (currentListing.retailerUID.toLowerCase().indexOf(item.retailerUID.toLowerCase()) > -1);\n                    }\n                  });\n                  console.log(self.currentRetailer);\n                  console.log(`${self.currentRetailer[0].email}`);\n                  Email.send({\n                    SecureToken : \"c11c8a65-d4f9-45b7-8c2a-61f9c48e0ea7\",\n                    To : `${self.currentRetailer[0].email}`,\n                    From : 'goodfoodinnova@gmail.com',\n                    Subject : \"New Good Food Order\",\n                    Body : 'Hello ' + self.currentRetailer[0].name + ', you have an order for your listing: ' + item.name + '. Please check the Good Food application for more details. Thank you!'\n                  }).then(\n                    message => console.log(message)\n                  );    \n\n            \n                  if(item.quantityCart>0){\n                    const decrement = firebase.firestore.FieldValue.increment(-item.quantityCart);\n                    console.log(self.listing)\n                    let thisListing: any[] = self.listing.filter(currentListing => {\n                    if (currentListing.listingID && item.listingID) {\n                      return (currentListing.listingID.toLowerCase().indexOf(item.listingID.toLowerCase()) > -1);\n                    }\n                    });\n\n                    console.log(thisListing);\n            \n                    thisListing.forEach(element => {\n                      if(item.quantityCart==element.quantity){\n                        console.log(self.currentRetailer[0].listings)\n                        var quantityArr = self.currentRetailer[0].listings.filter(currentListing => {\n                          if (currentListing.listingID && item.listingID) {\n                            return (currentListing.listingID.toLowerCase().indexOf(item.listingID.toLowerCase()) > -1);\n                          }\n                        }); \n\n                        self.afstore.collection('archive').doc(item.listingID).set({\n                          name: item.name,\n                          description: item.description,\n                          listingID: item.listingID,\n                          price: item.price,\n                          type: \"Listing\",\n                          deleteTime: new Date()\n                        })\n                        .then(function() {\n                            console.log(\"Document successfully written!\");\n                        })\n                        .catch(function(error) {\n                            console.error(\"Error writing document: \", error);\n                        });\n                        \n                        self.afstore.collection('listings').doc(item.listingID).delete();\n                        //change isListed\n                        self.afstore.doc(`users/${item.retailerUID}`).update({\n                          listings: firebase.firestore.FieldValue.arrayUnion({\n                            name: item.name,\n                            description: item.description,\n                            listingID: item.listingID,\n                            price: item.price,\n                            quantity: quantityArr[0].quantity,\n                            isListed: false\n                          })\n                        })\n\n                        self.afstore.doc(`users/${item.retailerUID}`).update({\n                          listings: firebase.firestore.FieldValue.arrayRemove({\n                            name: item.name,\n                            description: item.description,\n                            listingID: item.listingID,\n                            price: item.price,\n                            quantity: quantityArr[0].quantity,\n                            isListed: true\n                          })\n                        })\n                       \n                      }\n                      else{           \n                      self.afstore.doc(`listings/${item.listingID}`).update({\n                        quantity: decrement\n                      })\n                    }\n                    });\n                  }\n                }\n                self.nacCtrl.navigateRoot(['/tabs/tabs/tab4']);\n                self.cart = []\n                console.log(\"checkout complete!\")\n                alert('Transaction completed by ' + details.payer.name.given_name + '!');\n\n              })\n              .catch(err => {\n                console.log(err);\n                self.presentAlert(err);\n                self.nacCtrl.navigateRoot(['/tabs/tabs/tab3']);\n              })\n          }\n        }).render('#paypal-button-container');\n       }, 10)\n        \n  }\n  \n  ionViewWillEnter(){\n    this.cart = []\n    this.paymentAmount = 0;\n    let self = this;\n    this.afAuth.onAuthStateChanged(async function(user) {        \n      if (user) {        \n        self.userUID = user.uid        \n        await self.getCart();  \n        self.changeDetection.detectChanges();\n      }\n    });    \n  }\n\n  async getCart(){    \n    var self = this;\n    await this.afstore.doc(`users/${this.userUID}`).get().toPromise().then(function(querySnapshot) {\n      self.cart = []\n      self.paymentAmount = 0;\n      var cart1 = querySnapshot.get(\"cart\");\n      self.changeDetection.detectChanges(); \n      cart1.forEach(element => {\n        self.cart.push(element);\n        self.paymentAmount += element.totalPrice          \n        });\n                    \n    })\n    .catch(function(error) {\n        console.log(\"Error getting documents\");\n    }); \n    \n    console.log(this.cart)\n    this.changeDetection.detectChanges();     \n  }\n\n  async payWithPayPal() {\n    try{\n      for(var item of this.cart){ \n        this.listing = await this.afstore.collection('listings').valueChanges().pipe(first()).toPromise();\n        let thisListing: any[] = this.listing.filter(currentListing => {\n          if (currentListing.listingID && item.listingID) {\n            return (currentListing.listingID.toLowerCase().indexOf(item.listingID.toLowerCase()) > -1);\n          }\n        });\n        thisListing.forEach(element => {\n          if(item.quantityCart>element.quantity){\n            throw new Error(\"Sorry, unfortunately there is not enough quantity to complete the \" + element.name + \" order. Please edit the quantity to be less than or equal to \" + element.quantity +\".\");\n          }           \n        });\n    } \n      \n    this.payPal.init({\n      PayPalEnvironmentProduction: 'AZdLLjUn69oERT3rIneIeL6pYWh7iFidUWTrDRfpPDh7F9zcETzH9lYNMbRbnWoRwCX506xQJX0sDoQa',\n      PayPalEnvironmentSandbox: 'AZdLLjUn69oERT3rIneIeL6pYWh7iFidUWTrDRfpPDh7F9zcETzH9lYNMbRbnWoRwCX506xQJX0sDoQa'\n    }).then(() => {\n      // Environments: PayPalEnvironmentNoNetwork, PayPalEnvironmentSandbox, PayPalEnvironmentProduction\n      this.payPal.prepareToRender('PayPalEnvironmentSandbox', new PayPalConfiguration({\n        // Only needed if you get an \"Internal Service Error\" after PayPal login!\n//payPalShippingAddressOption: 2 // PayPalShippingAddressOptionPayPal\n})).then(() => {\n\n\n  console.log(this.paymentAmount.toString())\n  let payment = new PayPalPayment(this.paymentAmount.toString(), this.currency, 'Description', 'sale');\n  this.payPal.renderSinglePaymentUI(payment).then((res) => {\n    console.log(res);\n    // Successfully paid\n\n    // Example sandbox response\n    //\n    // {\n    //   \"client\": {\n    //     \"environment\": \"sandbox\",\n    //     \"product_name\": \"PayPal iOS SDK\",\n    //     \"paypal_sdk_version\": \"2.16.0\",\n    //     \"platform\": \"iOS\"\n    //   },\n    //   \"response_type\": \"payment\",\n    //   \"response\": {\n    //     \"id\": \"PAY-1AB23456CD789012EF34GHIJ\",\n    //     \"state\": \"approved\",\n    //     \"create_time\": \"2016-10-03T13:33:33Z\",\n    //     \"intent\": \"sale\"\n    //   }\n    // }\n\n    for(var item of this.cart){ \n      this.date = new Date();     \n      this.afstore.doc(`users/${this.userUID}`).update({\n        orders: firebase.firestore.FieldValue.arrayUnion({\n          name: item.name,\n          description: item.description,\n          listingID: item.listingID,\n          retailerUID: item.retailerUID,\n          isCurrent: true,\n          date: this.date\n        })\n      })\n\n      this.afstore.doc(`users/${this.userUID}`).update({\n        cart: firebase.firestore.FieldValue.arrayRemove({\n          name: item.name,\n          description: item.description,\n          listingID: item.listingID,\n          retailerUID: item.retailerUID,\n          quantity: item.quantity,\n          quantityCart: item.quantityCart,\n          price: item.price,\n          totalPrice: item.totalPrice\n        })\n      })  \n      \n      this.afstore.doc(`users/${item.retailerUID}`).update({\n        orders: firebase.firestore.FieldValue.arrayUnion({\n          name: item.name,\n          description: item.description,\n          listingID: item.listingID,\n          retailerUID: item.retailerUID,\n          userUID: this.userUID,\n          isCurrent: true,\n          date: this.date\n        })\n      })\n\n      if(item.quantityCart>0){\n        const decrement = firebase.firestore.FieldValue.increment(-item.quantityCart);\n        let thisListing: any[] = this.listing.filter(currentListing => {\n        if (currentListing.listingID && item.listingID) {\n          return (currentListing.listingID.toLowerCase().indexOf(item.listingID.toLowerCase()) > -1);\n        }\n        });\n\n        thisListing.forEach(element => {\n          if(item.quantityCart==element.quantity){\n            console.log(element);\n            console.log(item);\n            \n\n\n            this.afstore.collection('listings').doc(item.listingID).delete()\n            //TODO: add to archive\n          }\n          else{           \n          this.afstore.doc(`listings/${item.listingID}`).update({\n            quantity: decrement\n          })\n        }\n        });\n      }\n    }\n    this.nacCtrl.navigateRoot(['/tabs/tabs/tab4']);\n    this.cart = []\n    console.log(\"checkout complete!\")\n\n\n  }, (error) => {\n    // Error or render dialog closed without being successful\n    console.log(error);\n   \n  });\n  }, (error) => {\n        // Error in configuration\n        console.log(error)\n        \n      });\n    }, (error) => {\n      // Error in initialization, maybe PayPal isn't supported or something else\n      console.log(error)\n    });\n\n  }\n  catch(error){\n    console.log(error);\n    this.presentAlert(error);\n    this.nacCtrl.navigateRoot(['/tabs/tabs/tab3']);\n  }  \n\n  }\n  \n  public async presentAlert(errorMessage) : Promise<boolean> {\n    let resolveFunction: (confirm: boolean) => void;\n    const promise = new Promise<boolean>(resolve => {\n      resolveFunction = resolve;\n    });\n    \n    const alert = await this.alertController.create({\n      header: 'Order Error',\n      message: errorMessage,\n      buttons: [\n        {\n          text: 'OK',\n            handler: () => resolveFunction(true)\n        }\n      ]\n    });\n  \n    await alert.present();\n    return promise;\n  }  \n  \n}"],"sourceRoot":"webpack:///"}