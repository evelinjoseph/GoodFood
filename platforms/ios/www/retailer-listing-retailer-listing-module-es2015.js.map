{"version":3,"sources":["./src/app/retailer-listing/retailer-listing.page.html","./src/app/retailer-listing/retailer-listing-routing.module.ts","./src/app/retailer-listing/retailer-listing.module.ts","./src/app/retailer-listing/retailer-listing.page.scss","./src/app/retailer-listing/retailer-listing.page.ts"],"names":[],"mappings":"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","file":"retailer-listing-retailer-listing-module-es2015.js","sourcesContent":["export default \"<ion-header style=\\\"text-align: center\\\">\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button [text]=\\\"Back\\\" defaultHref=\\\"/retailertabs/retailertabs/retailertab2\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Good Food\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [hidden]=\\\"!isReady\\\" fullscreen >\\n  <div *ngFor=\\\"let item of listing\\\"> \\n  <img [src]=\\\"url\\\" style=\\\"width:100%;\\\"> \\n\\n  <h1 style=\\\"text-align: center; font-weight: bold\\\"> {{ retailer }}</h1>\\n  <hr>\\n  <ion-text color=\\\"primary\\\">\\n  <h3 style=\\\"text-align: center; font-weight: bold;\\\" > ${{ item.price | number:'1.2-2' }}</h3>\\n  </ion-text> \\n\\n  <div style=\\\"text-align: center; font-size: large;\\\">\\n    <ion-icon name=\\\"location-outline\\\"></ion-icon> \\n    {{ location }}\\n  </div>\\n\\n  <p style=\\\"text-align: center\\\"> {{ item.quantity }} meals left</p>  \\n  <hr>\\n  <div style=\\\"text-align: center\\\" *ngIf=\\\"!item.isListed\\\">\\n  <ion-icon name=\\\"time-outline\\\"></ion-icon>\\n  Pickup Time: {{pickupTime | date:'h:mm a'}}\\n  </div>\\n\\n  <div style=\\\"text-align: center\\\" *ngIf=\\\"item.isListed\\\">\\n    <ion-icon name=\\\"time-outline\\\"></ion-icon>\\n    Listing Delete Date: {{pickupTime}}\\n    </div>\\n  <hr>\\n  <!-- after publish and clicking on edit -->\\n  <ion-item [hidden]=\\\"isRead\\\">\\n    <ion-label>Delete Date</ion-label>\\n    <ion-datetime value={{pickupTime}} [(ngModel)]=\\\"pDate\\\" (ionChange)=\\\"setPickupDate(this.pDate)\\\"></ion-datetime>\\n  </ion-item>\\n  <ion-item [hidden]=\\\"isRead\\\">\\n    <ion-label>Delete/Pick Up Time</ion-label>\\n    <ion-datetime value={{pickupTime}} display-format=\\\"h:mm A\\\" picker-format=\\\"h:mm A\\\" [(ngModel)]=\\\"time\\\" (ionChange)=\\\"setPickupTime(this.time)\\\"></ion-datetime>\\n  </ion-item> \\n \\n  <p style=\\\"text-align: center; font-size: large;\\\"> {{ item.description }} </p>\\n</div>\\n</ion-content>\\n\\n<ion-toolbar [hidden]=\\\"!isReady\\\" position=\\\"bottom\\\" style=\\\"text-align: center;\\\" color=\\\"translucent\\\" *ngFor=\\\"let item of listing\\\"> \\n  <ion-button *ngIf=\\\"!item.isListed\\\" size =\\\"large\\\" (click)=\\\"publish(item)\\\">Publish</ion-button>\\n  <ion-button *ngIf=\\\"item.isListed\\\" size =\\\"large\\\" (click)=\\\"edit(item)\\\">{{buttonText}}</ion-button>\\n  <ion-button *ngIf=\\\"item.isListed\\\" size =\\\"large\\\" (click)=\\\"unpublish(item)\\\">Unpublish</ion-button>\\n</ion-toolbar>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RetailerListingPage } from './retailer-listing.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RetailerListingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RetailerListingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RetailerListingPageRoutingModule } from './retailer-listing-routing.module';\n\nimport { RetailerListingPage } from './retailer-listing.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RetailerListingPageRoutingModule\n  ],\n  declarations: [RetailerListingPage]\n})\nexport class RetailerListingPageModule {}\n","export default \"hr {\\n  color: black;\\n  border-style: solid;\\n  background-color: black;\\n}\\n\\n.ion-text {\\n  display: flex;\\n  justify-content: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmV0YWlsZXItbGlzdGluZy9yZXRhaWxlci1saXN0aW5nLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxhQUFBO0VBQ0EsdUJBQUE7QUFFSiIsImZpbGUiOiJzcmMvYXBwL3JldGFpbGVyLWxpc3RpbmcvcmV0YWlsZXItbGlzdGluZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJociB7XG4gICAgY29sb3I6IGJsYWNrO1xuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gIH1cbi5pb24tdGV4dHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufSJdfQ== */\";","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { ActivatedRoute } from '@angular/router';\nimport { AlertController, LoadingController, NavController } from '@ionic/angular';\nimport * as firebase from 'firebase/app';\nimport { ListingsService } from '../listings.service';\n\n@Component({\n  selector: 'app-retailer-listing',\n  templateUrl: './retailer-listing.page.html',\n  styleUrls: ['./retailer-listing.page.scss'],\n})\nexport class RetailerListingPage implements OnInit {\n\n  listingID;\n  listing: any[];  \n  location;\n  retailerUID;\n  retailer;\n  retailerType;\n  url;\n  isReady: Boolean = false;\n  pickupTime;\n  date;\n  pickupDate: Date;\n  time;\n  pDate;\n  buttonText: string = \"Edit\";\n  isRead: boolean = true;  \n\n  constructor(public listingService: ListingsService,private nacCtrl: NavController, private activatedRoute: ActivatedRoute, public afAuth: AngularFireAuth, private afstore: AngularFirestore, private afStorage: AngularFireStorage, private changeDetection: ChangeDetectorRef,public loadingController: LoadingController, public alertController: AlertController) { }\n\n  ngOnInit() {\n    this.presentLoading();\n    this.listingID = this.activatedRoute.snapshot.queryParamMap.get('id'); \n    var self = this\n    this.afAuth.onAuthStateChanged(async function(user) {        \n      if (user) {        \n        self.retailerUID = user.uid\n        var userRef = (await self.afstore.collection(\"users\").doc(self.retailerUID).get().toPromise()).data()\n        self.retailer = userRef.name;\n        self.location = userRef.location;\n        self.retailerType = userRef.retailerType;        \n        self.listing = userRef.listings; \n        self.pickupTime = userRef.pickupTime.toDate().toLocaleString();\n\n        self.listing = self.listing.filter(currentListing => {\n          if (currentListing.listingID && self.listingID) {\n            return (currentListing.listingID.toLowerCase().indexOf(self.listingID.toLowerCase()) > -1);\n          }\n        });\n\n        if(self.listing[0].isListed){\n          var listingRef = (await self.afstore.collection(\"listings\").doc(self.listingID).get().toPromise()).data()\n          self.pickupTime = listingRef.deleteDate.toDate().toLocaleString();\n        }\n        \n        \n        var storageRef =  self.afStorage.ref(`images/${self.retailerUID}`).getDownloadURL().toPromise().then(function(url) {        \n          self.url = url;\n       }).catch(function(error) {\n         self.url = 'assets/images/default.png';\n       });\n\n       self.changeDetection.detectChanges(); \n      }\n      else{\n        console.log('no user signed in');\n      }\n    });    \n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      duration: 900,\n      translucent: true,\n      cssClass: 'transparent',\n      backdropDismiss: false\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n    this.isReady = true;\n    this.changeDetection.detectChanges(); \n  }\n\n  publish(listing) {\n    \n    this.date = new Date();\n    this.pickupDate = new Date(this.pickupTime);\n\n    const data = {\n      description: listing.description,\n      listingID: listing.listingID,\n      price: listing.price,\n      quantity: listing.quantity,\n      retailerType: this.retailerType,\n      location: this.location,\n      retailerUID: this.retailerUID,\n      deleteDate: new Date(this.date.getFullYear(), this.date.getMonth(), this.date.getDate(), this.pickupDate.getHours(), this.pickupDate.getMinutes(), this.pickupDate.getSeconds(), this.pickupDate.getMilliseconds())\n    }\n\n    this.afstore.collection(\"listings\").doc(this.listingID).set(data);\n    \n\n    this.afstore.doc(`users/${this.retailerUID}`).update({\n      listings: firebase.firestore.FieldValue.arrayUnion({\n        quantity: listing.quantity,\n        price: listing.price,\n        description: listing.description,\n        listingID: listing.listingID,\n        isListed: true      \n      })\n    })\n\n    this.afstore.doc(`users/${this.retailerUID}`).update({\n      listings: firebase.firestore.FieldValue.arrayRemove({\n        quantity: listing.quantity,\n        price: listing.price,\n        description: listing.description,\n        listingID: listing.listingID,\n        isListed: false      \n      })\n    })\n    this.changeDetection.detectChanges(); \n    this.presentAlert();\n    this.nacCtrl.navigateRoot([\"./retailertabs/retailertabs/retailertab2\"]);\n    this.changeDetection.detectChanges(); \n  }\n\n  public async presentAlert() : Promise<boolean> {\n    let resolveFunction: (confirm: boolean) => void;\n    const promise = new Promise<boolean>(resolve => {\n      resolveFunction = resolve;\n    });\n    \n    const alert = await this.alertController.create({\n      header: 'Listing Successfully Published!',\n      buttons: [\n        {\n          text: 'OK',\n            handler: () => resolveFunction(true)\n        }\n      ]\n    });\n\n    await alert.present();\n    return promise;\n  }\n\n  \n  async unpublish(listing){\n\n    const confirm = await this.presentAlertUnpublish();\n    if (confirm) {\n\n      this.afstore.doc(`users/${this.retailerUID}`).update({\n        listings: firebase.firestore.FieldValue.arrayUnion({\n          \n          description: listing.description,\n          listingID: listing.listingID,\n          price: listing.price,\n          quantity:listing.quantity,\n          isListed: false\n        })\n      })\n\n    this.afstore.doc(`users/${this.retailerUID}`).update({\n      listings: firebase.firestore.FieldValue.arrayRemove({\n        \n        description: listing.description,\n        listingID: listing.listingID,\n        price: listing.price,\n        quantity:listing.quantity,\n        isListed: listing.isListed\n      })\n    })\n\n    await this.listingService.deleteListing(listing)\n    this.afstore.collection('listings').doc(listing.listingID).delete();\n    this.nacCtrl.navigateRoot([\"./retailertabs/retailertabs/retailertab2\"]);\n    this.changeDetection.detectChanges(); \n   \n    \n    \n  }\n  }\n\n  async presentAlertUnpublish() : Promise<boolean> {\n    let resolveFunction: (confirm: boolean) => void;\n    const promise = new Promise<boolean>(resolve => {\n      resolveFunction = resolve;\n    });\n    const alert = await this.alertController.create({\n      header: 'Confirm Unpublish',\n      message: 'Are you sure you want to unpublish this listing?',\n      buttons: [\n        {\n          text: 'Yes',\n            handler: () => resolveFunction(true)\n        }, {\n          text: 'No',\n          handler: () => resolveFunction(false)\n        }\n      ]\n    });\n\n    await alert.present();\n    return promise;\n  }\n\n  setPickupTime(pickupTime){  \n\n    let date = new Date(pickupTime);  \n    this.time =  date.toString();\n    console.log(this.time)\n  }\n\n  setPickupDate(pickupDate){\n    console.log(pickupDate)\n    this.pDate = (new Date(pickupDate)).toDateString();  \n    console.log(this.pDate)\n  }\n\n  edit(listing)\n  {\n    if(this.buttonText == \"Edit\"){\n      this.isRead = false;\n      this.buttonText = \"Save\";\n     }\n    else{\n      this.isRead = true;\n      this.buttonText = \"Edit\";  \n      //set pickuptime\n      //change deleteDate in firestore      \n      this.time = new Date(this.time);\n      this.pDate = new Date(this.pDate);\n      let newDate = new Date(this.pDate.getFullYear(), this.pDate.getMonth(), this.pDate.getDate(),this.time.getHours(), this.time.getMinutes(), this.time.getSeconds(), this.time.getMilliseconds())\n      console.log(newDate)\n\n      const data = {\n        description: listing.description,\n        listingID: listing.listingID,\n        price: listing.price,\n        quantity: listing.quantity,\n        retailerType: this.retailerType,\n        location: this.location,\n        retailerUID: this.retailerUID,\n        deleteDate: new Date(this.pDate.getFullYear(), this.pDate.getMonth(), this.pDate.getDate(), this.time.getHours(), this.time.getMinutes(), this.time.getSeconds(), this.time.getMilliseconds())\n      }\n  \n      this.afstore.collection(\"listings\").doc(this.listingID).set(data);\n      this.pickupTime = newDate.toLocaleString();\n      \n\n      \n    }   \n  }\n \n\n}\n"],"sourceRoot":"webpack:///"}