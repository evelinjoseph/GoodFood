{"version":3,"sources":["./src/app/retailertab1/retailertab1.page.html","./src/app/retailertab1/retailertab1-routing.module.ts","./src/app/retailertab1/retailertab1.module.ts","./src/app/retailertab1/retailertab1.page.scss","./src/app/retailertab1/retailertab1.page.ts"],"names":[],"mappings":"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","file":"retailertab1-retailertab1-module-es2015.js","sourcesContent":["export default \"<ion-header style=\\\"text-align: center\\\">\\n  <ion-toolbar mode=\\\"ios\\\" color=\\\"primary\\\">\\n    <ion-title>Good Food</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"true\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen [hidden]=\\\"!isReady\\\" >\\n\\n  <div *ngIf=\\\"!((retailerItems | async)?.isVerified) ; else verified\\\" class=\\\"centerText\\\">\\n    <ion-text class=\\\"centerText\\\" color=\\\"primary\\\" style=\\\"text-align: center\\\">\\n      <p>Your account is not verified yet, please wait until verified to gain access to this tab!</p>\\n    </ion-text>\\n  </div>\\n  <ng-template #verified>\\n    <div *ngFor=\\\"let item of ((retailerItems | async)?.orders).sort().reverse()\\\">\\n      <ion-card>\\n\\n      <ion-item>\\n        <ion-card-title class=\\\"ion-text-wrap\\\">{{item.name}}</ion-card-title>\\n      </ion-item>\\n    \\n      <ion-card-content> \\n          <p> Description: {{item.description}}</p>\\n          <p> Ordered: {{item.date.toDate().toLocaleString()}}</p>\\n          <p> User: {{getUser(item.userUID)}}</p>      \\n      </ion-card-content>\\n    </ion-card>\\n    </div>  \\n    \\n      <ion-text *ngIf=\\\"((retailerItems | async)?.orders).length <= 0\\\" class=\\\"centerText\\\" color=\\\"primary\\\" style=\\\"text-align: center\\\">\\n        <p>There are no orders currently.</p>\\n      </ion-text>\\n  </ng-template>  \\n</ion-content>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { Retailertab1Page } from './retailertab1.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Retailertab1Page\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class Retailertab1PageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { Retailertab1PageRoutingModule } from './retailertab1-routing.module';\n\nimport { Retailertab1Page } from './retailertab1.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    Retailertab1PageRoutingModule\n  ],\n  declarations: [Retailertab1Page]\n})\nexport class Retailertab1PageModule {}\n","export default \".centerText {\\n  height: 90% !important;\\n  display: flex !important;\\n  align-items: center !important;\\n  justify-content: center !important;\\n  align-content: center !important;\\n  flex-wrap: wrap !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmV0YWlsZXJ0YWIxL3JldGFpbGVydGFiMS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxzQkFBQTtFQUNBLHdCQUFBO0VBQ0EsOEJBQUE7RUFDQSxrQ0FBQTtFQUNBLGdDQUFBO0VBQ0EsMEJBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3JldGFpbGVydGFiMS9yZXRhaWxlcnRhYjEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNlbnRlclRleHQge1xuICAgIGhlaWdodDogOTAlICFpbXBvcnRhbnQ7XG4gICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xuICAgIGZsZXgtd3JhcDogd3JhcCAhaW1wb3J0YW50OyAgICBcbiB9Il19 */\";","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AlertController } from '@ionic/angular';\nimport { ListingsService } from '../listings.service';\n\n@Component({\n  selector: 'app-retailertab1',\n  templateUrl: './retailertab1.page.html',\n  styleUrls: ['./retailertab1.page.scss'],\n})\nexport class Retailertab1Page implements OnInit {\n  retailerUID;\n  retailerItems;\n  items;\n  retailerName;\n  isReady = false;\n  users: any[];\n\n  constructor(public listingService: ListingsService, public afstore: AngularFirestore, public afAuth: AngularFireAuth, private changeDetection: ChangeDetectorRef, public alertCtrl: AlertController) { }\n\n  ngOnInit() {\n    var self = this\n    this.afAuth.onAuthStateChanged(async function(user) {        \n      if (user) {              \n        self.retailerUID = user.uid\n        self.items = self.afstore.doc(`users/${self.retailerUID}`);\n        self.retailerItems = self.items.valueChanges(); \n        await self.listingService.initializeItems();\n        self.users = self.listingService.getUsers();\n        self.users = self.users.filter(currentUser => {\n          if (!currentUser.isRetailer) {\n            return (!currentUser.isRetailer);\n          }\n        });  \n        console.log(self.users);\n        self.isReady = true;\n        self.changeDetection.detectChanges(); \n      }\n      else{\n        console.log('no user signed in');\n      }\n    });\n  }\n\n  ionViewWillEnter(){\n    if(this.items){\n      this.retailerItems = this.items.valueChanges();\n      this.changeDetection.detectChanges(); \n      this.isReady = true;\n    }    \n  }\n\n  getUser(uid) { \n    if(this.users){\n      const user = this.users.find(element => element.userUID == uid);\n      return user.firstname + \" \" + user.lastname + \" (\" + uid + \")\";\n    }\n   \n  }\n\n}\n"],"sourceRoot":"webpack:///"}